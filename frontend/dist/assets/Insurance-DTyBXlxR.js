import{j as e,S as p,h as g,i as j,T as _,k as T,l as S}from"./vendor-ui-CKvTnmtk.js";import{a as l}from"./vendor-react-CGlDSCWT.js";import{a as L}from"./index-CH5yhmAP.js";function C(){const{data:a,loading:u,error:h}=L(),[r,f]=l.useState("all"),[c,v]=l.useState("all");if(u)return e.jsx("div",{className:"text-gray-500 font-mono text-sm p-8",children:"Loading insurance data..."});if(h)return e.jsxs("div",{className:"text-sc-danger font-mono text-sm p-8",children:["Error: ",h]});const x=(a==null?void 0:a.insurance_summary)||{},t=[...x.lti_ships||[],...x.non_lti_ships||[]],i=x.unknown_ships||[],b=l.useMemo(()=>t.some(s=>s.lti),[t]),w=l.useMemo(()=>t.some(s=>!s.lti),[t]),y=l.useMemo(()=>t.some(s=>s.warbond),[t]),I=l.useMemo(()=>t.some(s=>!s.warbond),[t]),m=l.useMemo(()=>{let s=[...t];return r==="lti"?s=s.filter(n=>n.lti):r==="nonlti"&&(s=s.filter(n=>!n.lti)),c==="warbond"?s=s.filter(n=>n.warbond):c==="nonwarbond"&&(s=s.filter(n=>!n.warbond)),s},[t,r,c]),d=m.filter(s=>s.lti),o=m.filter(s=>!s.lti);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-display font-bold text-2xl tracking-wider text-white",children:"INSURANCE TRACKER"}),e.jsx("p",{className:"text-xs font-mono text-gray-500 mt-1",children:"Upload HangarXplor data to populate insurance info"})]}),e.jsx("div",{className:"glow-line"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("select",{value:r,onChange:s=>f(s.target.value),className:"bg-sc-panel border border-sc-border rounded px-3 py-2 text-sm font-mono text-gray-300 focus:outline-none focus:border-sc-accent/50",children:[e.jsx("option",{value:"all",children:"All Insurance"}),b&&e.jsx("option",{value:"lti",children:"LTI Only"}),w&&e.jsx("option",{value:"nonlti",children:"Non-LTI Only"})]}),e.jsxs("select",{value:c,onChange:s=>v(s.target.value),className:"bg-sc-panel border border-sc-border rounded px-3 py-2 text-sm font-mono text-gray-300 focus:outline-none focus:border-sc-accent/50",children:[e.jsx("option",{value:"all",children:"All Purchases"}),y&&e.jsx("option",{value:"warbond",children:"Warbond Only"}),I&&e.jsx("option",{value:"nonwarbond",children:"Non-Warbond Only"})]}),e.jsxs("span",{className:"text-xs font-mono text-gray-500",children:[m.length," ships"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"stat-card border-l-2 border-l-sc-lti",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-sc-lti"}),e.jsx("span",{className:"stat-label",children:"LTI Ships"})]}),e.jsx("span",{className:"stat-value text-sc-lti",children:d.length})]}),e.jsxs("div",{className:"stat-card border-l-2 border-l-sc-warn",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-sc-warn"}),e.jsx("span",{className:"stat-label",children:"Non-LTI Ships"})]}),e.jsx("span",{className:"stat-value text-sc-warn",children:o.length})]}),e.jsxs("div",{className:"stat-card border-l-2 border-l-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"stat-label",children:"Unknown"})]}),e.jsx("span",{className:"stat-value text-gray-500",children:i.length})]})]}),d.length>0&&e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel-header flex items-center gap-2",children:[e.jsx(p,{className:"w-3.5 h-3.5 text-sc-lti"}),"Lifetime Insurance (",d.length,")"]}),e.jsx("div",{className:"divide-y divide-sc-border/50",children:d.map((s,n)=>e.jsx(N,{ship:s},n))})]}),o.length>0&&e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel-header flex items-center gap-2",children:[e.jsx(g,{className:"w-3.5 h-3.5 text-sc-warn"}),"Non-LTI Ships (",o.length,")"]}),e.jsx("div",{className:"divide-y divide-sc-border/50",children:o.map((s,n)=>e.jsx(N,{ship:s},n))})]}),i.length>0&&e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel-header flex items-center gap-2",children:[e.jsx(j,{className:"w-3.5 h-3.5 text-gray-500"}),"Insurance Unknown (",i.length,")"]}),e.jsx("p",{className:"px-5 py-2 text-xs text-gray-500",children:"Upload HangarXplor data to populate insurance info for these ships."}),e.jsx("div",{className:"divide-y divide-sc-border/50",children:i.map((s,n)=>e.jsxs("div",{className:"px-5 py-3 flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-400",children:s.ship_name}),s.custom_name&&e.jsxs("span",{className:"text-xs text-gray-600 italic",children:['"',s.custom_name,'"']})]},n))})]})]})}function N({ship:a}){return e.jsxs("div",{className:"px-5 py-3 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:a.ship_name}),a.custom_name&&e.jsxs("span",{className:"text-xs text-gray-500 italic truncate",children:['"',a.custom_name,'"']})]}),a.pledge_name&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx(_,{className:"w-3 h-3 text-gray-600"}),e.jsx("span",{className:"text-[11px] font-mono text-gray-600 truncate",children:a.pledge_name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.pledge_cost&&e.jsxs("span",{className:"flex items-center gap-1 text-xs font-mono text-gray-400",children:[e.jsx(T,{className:"w-3 h-3"}),a.pledge_cost]}),a.pledge_date&&e.jsxs("span",{className:"flex items-center gap-1 text-xs font-mono text-gray-500",children:[e.jsx(S,{className:"w-3 h-3"}),a.pledge_date]}),a.lti?e.jsx("span",{className:"badge badge-lti",children:"LTI"}):e.jsx("span",{className:"badge badge-nonlti",children:"STD"}),a.warbond&&e.jsx("span",{className:"badge badge-warbond",children:"WB"})]})]})}export{C as default};
