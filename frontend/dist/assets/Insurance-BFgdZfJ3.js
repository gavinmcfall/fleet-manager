import{j as e,S as p,g,h as j,T as w,i as y,k as _}from"./vendor-ui-BoY7sAdT.js";import{a as m}from"./vendor-react-CGlDSCWT.js";import{a as I}from"./index-CD2RGnxz.js";function k(){const{data:s,loading:f,error:h}=I(),[d,u]=m.useState("all"),[o,v]=m.useState("all"),l=s==null?void 0:s.insurance_summary,{lti:i,nonLTI:c,unknown:x}=m.useMemo(()=>{const a=(l==null?void 0:l.lti_ships)||[],r=(l==null?void 0:l.non_lti_ships)||[],b=(l==null?void 0:l.unknown_ships)||[];let t=[...a,...r];return d==="lti"?t=t.filter(n=>n.is_lifetime):d==="nonlti"&&(t=t.filter(n=>!n.is_lifetime)),o==="warbond"?t=t.filter(n=>n.warbond):o==="nonwarbond"&&(t=t.filter(n=>!n.warbond)),{lti:t.filter(n=>n.is_lifetime),nonLTI:t.filter(n=>!n.is_lifetime),unknown:b}},[l,d,o]);return f?e.jsx("div",{className:"text-gray-500 font-mono text-sm p-8",children:"Loading insurance data..."}):h?e.jsxs("div",{className:"text-sc-danger font-mono text-sm p-8",children:["Error: ",h]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-display font-bold text-2xl tracking-wider text-white",children:"INSURANCE TRACKER"}),e.jsx("p",{className:"text-xs font-mono text-gray-500 mt-1",children:"Upload HangarXplor data to populate insurance info"})]}),e.jsx("div",{className:"glow-line"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("select",{value:d,onChange:a=>u(a.target.value),className:"bg-sc-panel border border-sc-border rounded px-3 py-2 text-sm font-mono text-gray-300 focus:outline-none focus:border-sc-accent/50",children:[e.jsx("option",{value:"all",children:"All Insurance"}),e.jsx("option",{value:"lti",children:"LTI Only"}),e.jsx("option",{value:"nonlti",children:"Non-LTI Only"})]}),e.jsxs("select",{value:o,onChange:a=>v(a.target.value),className:"bg-sc-panel border border-sc-border rounded px-3 py-2 text-sm font-mono text-gray-300 focus:outline-none focus:border-sc-accent/50",children:[e.jsx("option",{value:"all",children:"All Purchases"}),e.jsx("option",{value:"warbond",children:"Warbond Only"}),e.jsx("option",{value:"nonwarbond",children:"Non-Warbond Only"})]}),e.jsxs("span",{className:"text-xs font-mono text-gray-500",children:[i.length+c.length," ships"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"stat-card border-l-2 border-l-sc-lti",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-sc-lti"}),e.jsx("span",{className:"stat-label",children:"LTI Ships"})]}),e.jsx("span",{className:"stat-value text-sc-lti",children:i.length})]}),e.jsxs("div",{className:"stat-card border-l-2 border-l-sc-warn",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-sc-warn"}),e.jsx("span",{className:"stat-label",children:"Non-LTI Ships"})]}),e.jsx("span",{className:"stat-value text-sc-warn",children:c.length})]}),e.jsxs("div",{className:"stat-card border-l-2 border-l-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"stat-label",children:"Unknown"})]}),e.jsx("span",{className:"stat-value text-gray-500",children:x.length})]})]}),i.length>0&&e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel-header flex items-center gap-2",children:[e.jsx(p,{className:"w-3.5 h-3.5 text-sc-lti"}),"Lifetime Insurance (",i.length,")"]}),e.jsx("div",{className:"divide-y divide-sc-border/50",children:i.map((a,r)=>e.jsx(N,{ship:a},r))})]}),c.length>0&&e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel-header flex items-center gap-2",children:[e.jsx(g,{className:"w-3.5 h-3.5 text-sc-warn"}),"Non-LTI Ships (",c.length,")"]}),e.jsx("div",{className:"divide-y divide-sc-border/50",children:c.map((a,r)=>e.jsx(N,{ship:a},r))})]}),x.length>0&&e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel-header flex items-center gap-2",children:[e.jsx(j,{className:"w-3.5 h-3.5 text-gray-500"}),"Insurance Unknown (",x.length,")"]}),e.jsx("p",{className:"px-5 py-2 text-xs text-gray-500",children:"Upload HangarXplor data to populate insurance info for these ships."}),e.jsx("div",{className:"divide-y divide-sc-border/50",children:x.map((a,r)=>e.jsxs("div",{className:"px-5 py-3 flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-400",children:a.ship_name}),a.custom_name&&e.jsxs("span",{className:"text-xs text-gray-600 italic",children:['"',a.custom_name,'"']})]},r))})]})]})}function N({ship:s}){return e.jsxs("div",{className:"px-5 py-3 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:s.ship_name}),s.custom_name&&e.jsxs("span",{className:"text-xs text-gray-500 italic truncate",children:['"',s.custom_name,'"']})]}),s.pledge_name&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx(w,{className:"w-3 h-3 text-gray-600"}),e.jsx("span",{className:"text-[11px] font-mono text-gray-600 truncate",children:s.pledge_name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[s.pledge_cost&&e.jsxs("span",{className:"flex items-center gap-1 text-xs font-mono text-gray-400",children:[e.jsx(y,{className:"w-3 h-3"}),s.pledge_cost]}),s.pledge_date&&e.jsxs("span",{className:"flex items-center gap-1 text-xs font-mono text-gray-500",children:[e.jsx(_,{className:"w-3 h-3"}),s.pledge_date]}),s.is_lifetime?e.jsx("span",{className:"badge badge-lti",children:"LTI"}):e.jsx("span",{className:"badge badge-nonlti",children:s.insurance_label||"Standard"}),s.warbond&&e.jsx("span",{className:"badge badge-warbond",children:"WB"})]})]})}export{k as default};
