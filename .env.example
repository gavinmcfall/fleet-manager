# Fleet Manager Environment Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# Server Configuration
# =============================================================================

# HTTP server listen port
PORT=8080

# Base URL for the application (used for generating links and callbacks)
BASE_URL=http://localhost:8080

# =============================================================================
# Database Configuration
# =============================================================================

# Database driver: "sqlite" or "postgres"
# SQLite is recommended for single-user deployments and home labs
# PostgreSQL is recommended for multi-user or high-availability setups
DB_DRIVER=sqlite

# SQLite database file path (only used when DB_DRIVER=sqlite)
# The directory will be created automatically if it doesn't exist
DB_PATH=./data/fleet-manager.db

# PostgreSQL connection string (only used when DB_DRIVER=postgres)
# Format: postgres://username:password@hostname:port/database?sslmode=disable
# Example: postgres://fleetmanager:password@localhost:5432/fleetmanager?sslmode=disable
# DATABASE_URL=

# =============================================================================
# FleetYards API Configuration (Images Only)
# =============================================================================

# FleetYards API base URL — used solely for fetching ship store images
# All ship data (specs, dimensions, pricing, status) comes from SC Wiki API
# Default is the official FleetYards.net API - no need to change unless using a self-hosted instance
FLEETYARDS_BASE_URL=https://api.fleetyards.net

# =============================================================================
# SC Wiki API Configuration
# =============================================================================

# Enable SC Wiki API sync for ship/component/manufacturer reference data
# This syncs detailed game data including hardpoints, weapons, shields, etc.
# Recommended: true (provides rich component data for fleet analysis)
# Note: First sync can take 5-10 minutes - use manual trigger, not startup sync
SC_WIKI_ENABLED=true

# SC Wiki API rate limit in requests per second
# Recommended: 1.0 to respect API limits and avoid rate limiting
# Lower this if you experience 429 Too Many Requests errors
SC_WIKI_RATE_LIMIT=1.0

# SC Wiki API burst size (maximum concurrent requests)
# Recommended: 5 for balanced performance
# Lower this if experiencing timeouts or connection issues
SC_WIKI_BURST=5

# =============================================================================
# Sync Configuration
# =============================================================================

# Cron schedule for automatic sync (SC Wiki data + FleetYards images)
# Format: "minute hour day month weekday"
# Default: "0 3 * * *" (3:00 AM daily)
# Examples:
#   "0 3 * * *"     - 3:00 AM every day
#   "0 */6 * * *"   - Every 6 hours
#   "0 2 * * 0"     - 2:00 AM every Sunday
#   "30 1 * * *"    - 1:30 AM daily
SYNC_SCHEDULE=0 3 * * *

# Automatically sync on application startup
# SC Wiki sync runs first (if no manufacturers exist), then FleetYards image sync
# Recommended: true for first run, false for production after initial data load
SYNC_ON_STARTUP=true

# =============================================================================
# RSI API Configuration (Live Ship + Paint Images)
# =============================================================================

# Enable RSI API sync for live ship and paint images from RSI CDN
# Uses the public GraphQL API — no credentials required
# When enabled, overwrites FleetYards images with higher-quality RSI CDN URLs
# When disabled, RSI extract static import is used as fallback (if RSI_EXTRACT_PATH set)
RSI_API_ENABLED=false

# RSI base URL — no need to change unless testing against a different environment
# RSI_BASE_URL=https://robertsspaceindustries.com

# RSI API rate limit in requests per second
# Conservative default to avoid Cloudflare rate limiting
# RSI_RATE_LIMIT=1.0

# =============================================================================
# Frontend Configuration
# =============================================================================

# Path to frontend static files (React SPA build output)
# Default: ./frontend/dist
# In Docker: /app/frontend/dist
STATIC_DIR=./frontend/dist

# =============================================================================
# Optional: LLM Configuration for AI Fleet Analysis
# =============================================================================

# LLM API keys are stored encrypted in the database and configured via the Settings UI
# No environment variables needed for LLM configuration
# Supported providers: OpenAI, Anthropic (Claude), Google (Gemini)

# =============================================================================
# scunpacked-data Configuration (Paint Metadata)
# =============================================================================

# Path to scunpacked-data repo clone (leave empty to disable paint metadata sync)
# SCUNPACKED_DATA_PATH=

# =============================================================================
# RSI Extract Configuration (Static Image Fallback)
# =============================================================================

# Path to directory containing ships.json and paints.json RSI extracts
# Only used when RSI_API_ENABLED=false
# RSI_EXTRACT_PATH=
